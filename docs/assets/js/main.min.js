function formatUtils(){return{formatPrice(e,a="en-US",t=2,i=2){return new Intl.NumberFormat(a,{minimumFractionDigits:t,maximumFractionDigits:i}).format(e)}}}function storageUtils(){return{saveCart(e){localStorage.setItem("cart",JSON.stringify(e))}}}function domUtils(){return{clearContainer(e){e.innerHTML=""},lockScroll(){var e=window.innerWidth-document.documentElement.clientWidth;document.body.style.paddingRight=e+"px",document.documentElement.classList.add("no-scroll"),document.body.classList.add("no-scroll")},unlockScroll(){document.body.style.paddingRight="",document.documentElement.classList.remove("no-scroll"),document.body.classList.remove("no-scroll")},hiddenText(e,a){var t=e.textContent;t.length>a&&(e.textContent=t.slice(0,a)+"...")},removeClassFromAll({selector:e=null,className:a,arrElements:t=null}){let i=[];null!==e?i=document.querySelectorAll(e):null!==t&&(i=t),i.length&&i.forEach(e=>e.classList.remove(a))},addClassToAll({selector:e=null,className:a,arrElements:t=null}){let i=[];null!==e?i=document.querySelectorAll(e):null!==t&&(i=t),i.length&&i.forEach(e=>e.classList.add(a))}}}function renderUtils(){return{renderCard(e,a=null){var t=e.ingredients.slice(0,3).join(", "),i=e.ingredients.slice(3).join(", ");let n=Object.values(e.price)[0];a&&(n=a(n));a=Object.entries(e.price).map(([e,a],t)=>`
      <label class="pizza-card__size-label">
        <input class="pizza-card__size-radio visually-hidden" 
               data-price="${a}" 
               type="radio" 
               name="size" 
               value="${e}" 
               ${0===t?"checked":""} />
        <span class="pizza-card__size-text">${e}</span>
      </label>
    `).join("");return`
    <article data-id="${e.id}" class="pizza-card">
      <header class="pizza-card__header">
        <figure class="pizza-card__figure">
          <img class="pizza-card__img" src="./assets/img/pizza/${e.image}.png" alt="${e.namePizza}" />
        </figure>
        <h3 class="pizza-card__title">${e.namePizza}</h3>
      </header>
      <div class="pizza-card__ingredients">
        <p class="pizza-card__first-line text-ellipsis w-17vw">
          Filling: ${t}${i?",":""}
        </p>
        ${i?`
          <p class="pizza-card__second-line text-ellipsis">
            ${i}
          </p>
        `:""}
      </div>
    
      <form class="pizza-card__form">
        ${a}
      </form>
    
      <button class="pizza-card__customize-btn">
        <span class="text-gradient ps-rel-idx-100">+ Ingredients</span>
      </button>
      <div class="pizza-card__order-controls">
        <p class="pizza-card__price text-ellipsis">
          <span class="total-price">${n}</span>
          <span class="pizza-card__currency">$</span>
        </p>
        <div class="pizza-card__quantity-controls">
          <button disabled class="pizza-card__quantity-btn decrement-quantity">
            <svg width="8" height="2" viewBox="0 0 12 2">
              <path d="M0 1H12" stroke="currentColor" stroke-width="2" />
            </svg>
          </button>
          <p class="pizza-card__quantity quantity">1</p>
          <button class="pizza-card__quantity-btn pizza-card__quantity-btn--active increment-quantity">
            <svg width="8" height="8" viewBox="0 0 12 12">
              <path d="M0 6H12M6 0V12" stroke="currentColor" stroke-width="2" />
            </svg>
          </button>
        </div>
      </div>
      <button class="pizza-card__order btn btn--accent btn--small">
        Order Now
      </button>
    </article>
  `},renderAllCards(e,a=null){return e.map(e=>this.renderCard(e,a))},renderCardsIngredients(e,a=1){let t="";return e.forEach(e=>{t+=`
          <li class="panel-ingredients__value" data-id="${e.id}">
            <p class="panel-ingredients__price" area-label="price pizza">${(e.price*a).toFixed(2)} $<p>
            <figure class="ingredient-card">
              <div class="ingredient-card__wrapper-img">
                <img src="/assets/img/ingredients/${e.nameImg}.png" alt="image ingredient ${e.name}" class="ingredient-card__img" />
              </div>
              <figcaption class="ingredient-card__title">${e.name}</figcaption>
            </figure>
          </li>
        `}),t},renderTextIngredients(e,a=""){return e.length?e.map(e=>`<span>${e}</span>`).join(", "):`<span>${a}</span>`},renderPanelAddIngredients(e,a){let t="";Object.entries(e).forEach(([e,a])=>{t+=`
            <section class="panel-ingredients__section">
              <h4 class="panel-ingredients__title panel-ingredients__title--small">${e}</h4>
              <ul class="panel-ingredients__container-ingredients">${a}</ul>
            </section>
        `}),a.innerHTML=` <h3 class="panel-ingredients__title panel-ingredients__overlay">Add ingredient</h3><div class="panel-ingredients__wrapper-sections">${t}</div>`},renderPanelInfoPizza({pizzaData:e,sizePizza:a,pizzaQuantity:t,container:i,callbackFormat:n=null}){let r=e.price[a],s=e.price[a]*t;n&&(r=n(r),s=n(s));n=`
      <header class="panel-pizza__header">
        <h3 class="panel-pizza__title">${e.namePizza}</h3>
        <p area-label="Pizza size" class="panel-pizza__size">X ${a}</p>
      </header>

      <div class="panel-pizza__info-container">
        <div class="panel-pizza__img">
          <img src="./assets/img/pizza/${e.image}.png" alt="${e.namePizza}}">
         </div>
        <div class="panel-pizza__info">
          <p class="panel-pizza__description">${e.description}</p>
          <p class="panel-pizza__price-custom">Price for one pizza custom <span class="custom-price-one"> ${r}</span> $</p>
          <p class="panel-pizza__price-standard">Standard price: ${r} $</p>
        </div>
      </div>
  
      <p class="panel-pizza__ingredients"><span class="fw-500">Ingredients:</span> ${this.renderTextIngredients(e.ingredients)}</p>
      <p class="panel-pizza__ingredients"><span class="fw-500">Extra Ingredients:</span> <span id="custom-ingredients">-</span></p>

        <div class="panel-pizza__footer">
          <div class="panel-pizza__quantity-controls">
            <button class="panel-pizza__btn-quantity decrement-quantity">-</button>
            <span class="panel-pizza__quantity quantity">${t}</span>
            <button class="panel-pizza__btn-quantity  increment-quantity">+</button>
          </div>
          <p class="panel-pizza__price-total">Total <span class="total-price">${s}</span> $</p>
        </div>
      `;i.innerHTML=n}}}function dataUtils(){return{normalizePizzaIngredients(e,i){for(var a in e)Object.hasOwnProperty.call(e,a)&&e[a].forEach(e=>{let t=[];e.ingredients.forEach(a=>{var e=i.find(e=>e.id===a);t.push(e.name)}),e.ingredients=t});return e},deepClone(e){if(!(e instanceof Object))return e;var a,t,i={};for(a in e)Object.hasOwnProperty.call(e,a)&&(t=e[a],e[a]instanceof Object&&!(e[a]instanceof Array)?i[a]=this.deepClone(t):e[a]instanceof Array?i[a]=t.map(e=>this.deepClone(e)):i[a]=e[a]);return i}}}function pizzaUtils(){return{getPizzaId(e){return+e.getAttribute("data-id")},resetPizzaCard({pizzaCardElem:e,sizeValue:a=22,pizzaQuantity:t=1,callbackFormat:i=null}){e.querySelector(".quantity").textContent=t;var a=e.querySelector(`input[name="size"][value="${a}"]`),e=e.querySelector(".total-price"),n=a.getAttribute("data-price");e.textContent=i?i(t*n):t*n,a.checked=!0},getPizzaSize(e){return+e.querySelector('input[name="size"]:checked').value},getPricePerPizza(e){return+e.querySelector('input[name="size"]:checked').getAttribute("data-price")},getPizzaQuantity(e){return+e.querySelector(".quantity").textContent},setPizzaQuantity({parentElement:e,quantity:a,selector:t,min:i=1,max:n=10}){n<a?a=n:a<i&&(a=i),e.querySelector(t).textContent=a},setPricePizza({parentElement:e,price:a,selector:t}){e.querySelector(t).textContent=a},updateBtn({parentElement:e,pizzaQuantity:a,min:t=1,max:i=10}){console.log("update btn function");var n=e.querySelector(".decrement-quantity"),e=e.querySelector(".increment-quantity");n.disabled=a<=t,e.disabled=i<=a}}}function getIngredients(){return{cheeses:[{id:1,name:"extra cheese",price:1,nameImg:"extra-cheese"},{id:2,name:"gorgonzola",price:2,nameImg:"gorgonzola"},{id:3,name:"parmesan",price:1.8,nameImg:"parmesan"},{id:4,name:"mozzarella",price:1.2,nameImg:"mozzarella"},{id:5,name:"ricotta",price:1.7,nameImg:"ricotta"}],vegetables:[{id:6,name:"mushrooms",price:1,nameImg:"mushrooms"},{id:7,name:"olives",price:.8,nameImg:"olives"},{id:8,name:"bell peppers",price:1,nameImg:"bell-peppers"},{id:9,name:"onions",price:.5,nameImg:"onions"},{id:10,name:"fresh tomatoes",price:.9,nameImg:"fresh-tomatoes"},{id:11,name:"spinach",price:1.3,nameImg:"spinach"},{id:12,name:"red onions",price:.6,nameImg:"red-onions"},{id:13,name:"sun-dried tomatoes",price:1.5,nameImg:"sun-dried-tomatoes"},{id:14,name:"basil",price:.2,nameImg:"basil"},{id:28,name:"sweet corn",price:1,nameImg:"sweet-corn"}],meats:[{id:15,name:"beef",price:2.5,nameImg:"beef"},{id:16,name:"ham",price:1.8,nameImg:"ham"},{id:17,name:"pepperoni",price:2.2,nameImg:"pepperoni"},{id:18,name:"bacon",price:2,nameImg:"bacon"},{id:19,name:"chicken",price:2,nameImg:"chicken"},{id:20,name:"salami",price:2.2,nameImg:"salami"},{id:21,name:"italian sausages",price:2.5,nameImg:"italian-sausages"},{id:22,name:"prosciutto",price:2.5,nameImg:"prosciutto"}],seafood:[{id:23,name:"shrimps",price:2.5,nameImg:"shrimps"},{id:24,name:"squid",price:3,nameImg:"squid"},{id:25,name:"mussels",price:2.8,nameImg:"mussels"},{id:26,name:"smoked salmon",price:3.5,nameImg:"smoked-salmon"},{id:27,name:"tuna",price:2.5,nameImg:"tuna"}],sauces:[{id:30,name:"tomato sauce",price:.5,nameImg:"tomato-sauce"},{id:31,name:"BBQ sauce",price:.8,nameImg:"BBQ-sauce"},{id:32,name:"creamy sauce",price:1.5,nameImg:"creamy-sauce"},{id:33,name:"white sauce",price:1.2,nameImg:"white-sauce"},{id:34,name:"cream sauce",price:1.3,nameImg:"cream-sauce"}],special:[{id:35,name:"truffle oil",price:2.5,nameImg:"truffle-oil"},{id:36,name:"oregano",price:.3,nameImg:"oregano"},{id:37,name:"thyme",price:.4,nameImg:"thyme"},{id:38,name:"dill",price:.4,nameImg:"dill"},{id:39,name:"garlic",price:.5,nameImg:"garlic"},{id:29,name:"capers",price:1,nameImg:"capers"}]}}function getPizzaData(){return{meat:[{id:1,namePizza:"Meat",description:"Assortment of beef, ham, pepperoni and bacon",price:{22:12,28:16,33:20},image:"meat-pizza",ingredients:[15,16,17,18,4,30]},{id:2,namePizza:"Argentina",description:"Juicy Argentinian beef with herbs",price:{22:13,28:17,33:21},image:"argentina-pizza",ingredients:[15,37,9,8,4,30]},{id:3,namePizza:"Venecia",description:"Venetian style with Italian sausages",price:{22:12,28:16,33:20},image:"venecia-pizza",ingredients:[21,7,9,8,4]},{id:4,namePizza:"Pepperoni Classic",description:"Double pepperoni with extra cheese",price:{22:11,28:15,33:19},image:"meat-pizza",ingredients:[17,4,30,36]},{id:5,namePizza:"BBQ Chicken",description:"Grilled chicken with BBQ sauce",price:{22:12,28:16,33:20},image:"meat-pizza",ingredients:[19,31,12,4,28]}],vegetarian:[{id:6,namePizza:"Cheese",description:"Mozzarella, gorgonzola, parmesan and ricotta",price:{22:10,28:14,33:18},image:"cheese-pizza",ingredients:[4,2,3,5,30]},{id:7,namePizza:"Tomato",description:"Classic with fresh tomatoes and basil",price:{22:9,28:13,33:17},image:"tomato-pizza",ingredients:[10,14,4,30]},{id:8,namePizza:"Italian",description:"Traditional Italian recipe",price:{22:8.35,28:15.33,33:19.6},image:"italian-pizza",ingredients:[22,8,3,4,30]},{id:9,namePizza:"Italian x2",description:"Double portion of Italian ingredients",price:{22:13,28:17,33:21},image:"italian-x2-pizza",ingredients:[22,20,7,4,30]},{id:10,namePizza:"Vegetarian",description:"Fresh vegetables and herbs",price:{22:11,28:15,33:19},image:"tomato-pizza",ingredients:[8,10,9,7,6,4]},{id:11,namePizza:"Mediterranean",description:"Sun-dried tomatoes, olives and feta cheese",price:{22:12,28:16,33:20},image:"meat-pizza",ingredients:[13,7,2,11,4]}],mushroom:[{id:12,namePizza:"Gribnaya",description:"Assorted mushrooms with creamy sauce",price:{22:10,28:14,33:18},image:"mushroom-pizza",ingredients:[22,23,24,4,25]},{id:13,namePizza:"Forest Mushroom",description:"Wild forest mushrooms with herbs",price:{22:11,28:15,33:19},image:"argentina-pizza",ingredients:[26,37,39,4,28]},{id:14,namePizza:"Truffle Mushroom",description:"Mushrooms with truffle oil",price:{22:13,28:17,33:21},image:"mushroom-pizza",ingredients:[6,29,3,4,28]}],sea_products:[{id:15,namePizza:"Seafood Mix",description:"Shrimps, squid and mussels",price:{22:14,28:18,33:22},image:"argentina-pizza",ingredients:[23,24,25,39,4,33]},{id:16,namePizza:"Tuna & Corn",description:"Tuna with sweet corn and onions",price:{22:12,28:16,33:20},image:"venecia-pizza",ingredients:[27,28,12,4,30]},{id:17,namePizza:"Salmon Supreme",description:"Smoked salmon with cream cheese",price:{22:15,28:19,33:23},image:"cheese-pizza",ingredients:[26,5,29,12,38]}]}}function initHeaderListUi(){let a=document.querySelectorAll(".header .link-nav");a.forEach(e=>{e.addEventListener("click",e=>{a.forEach(e=>e.classList.remove("link-nav--active")),e.target.classList.add("link-nav--active")})})}function initSwitchHero(e){let a={$target:document.getElementById("switch"),class_1:"switch--toggle-left",class_2:"switch--toggle-right",switchLeft(){this.$target.classList.remove(this.class_2),this.$target.classList.add(this.class_1)},switchRight(){this.$target.classList.remove(this.class_1),this.$target.classList.add(this.class_2)}};a.$target.addEventListener("click",e=>{e.currentTarget&&a.switchRight()});new IntersectionObserver(e=>{e.forEach(e=>{e=e.isIntersecting;e?a.switchRight():a.switchLeft()})},{threshold:0,rootMargin:"0px 0px -200px 0px"}).observe(e)}function initVideoPromo(t,e){let i=document.querySelector(".promo__title"),n={$video:e,playVideo(){this.$video.play().catch(e=>{console.log("Автовоспроизведение заблокировано",e)})},pauseVideo(){this.$video.pause()}};new IntersectionObserver((e,a)=>{e.forEach(e=>{e.isIntersecting&&(n.playVideo(),i.classList.remove("promo__title--hidden"),a.unobserve(t))})},{threshold:.3,rootMargin:"0px 0px -100px 0px"}).observe(t)}let utilsFormat=formatUtils(),utilsStorage=storageUtils(),utilsDOM=domUtils(),utilsRender=renderUtils(),utilsData=dataUtils(),utilsPizza=pizzaUtils(),ingredients=getIngredients(),flatIngredients=Object.values(ingredients).flat(),pizzaProducts=utilsData.normalizePizzaIngredients(getPizzaData(),flatIngredients),flatPizzaProducts=Object.values(pizzaProducts).flat(),INGR_PRICE_COEFF={22:1,28:1.27,33:1.5},MAX_PIZZA=10,KEY={NO_INGREDIENTS:"no-custom-ingredients",SEPARATOR:"_"},$videoMenu=document.getElementById("video-promo"),$cartBtn=document.getElementById("cartBtn"),$menuPizza=document.getElementById("menuPizza"),$tabsContainer=document.getElementById("tabs"),$tabsButtons=document.querySelectorAll(".menu__tab-btn button"),$topContainerCards=document.getElementById("top-cards"),$bottomContainerCards=document.getElementById("bottom-cards"),$staticTopContainerCards=document.getElementById("top-static-cards"),$staticBottomContainerCards=document.getElementById("bottom-static-cards"),$allStaticCards=document.querySelectorAll("#top-static-cards .pizza-card, #bottom-static-cards .pizza-card"),$menuOverlay=document.getElementById("overlay-menu"),$ingredientsPanel=document.getElementById("panel-ingredients"),$pizzaInfoPanel=document.getElementById("panel-info-pizza"),savedCart=localStorage.getItem("cart"),cart=savedCart?JSON.parse(savedCart):{},popUpPizzaData={},addedIngredients=[];function handleClosePopUpPizza({pizzaCardElem:e,sizeValue:a=22,pizzaQuantity:t=1,callbackFormat:i}){$menuOverlay.classList.remove("menu__overlay--active"),utilsDOM.unlockScroll(),utilsDOM.clearContainer($pizzaInfoPanel),utilsDOM.clearContainer($ingredientsPanel),utilsPizza.resetPizzaCard({pizzaCardElem:e,sizeValue:a,pizzaQuantity:t,callbackFormat:i}),utilsPizza.updateBtn({parentElement:e,pizzaQuantity:t}),utilsDOM.removeClassFromAll({selector:".panel-ingredients__value--add",className:"panel-ingredients__value--add"})}function addToCart({cart:e,idPizza:a,sizePizza:t,keyIngredients:i,pizzaQuantity:n,pricePerPizza:r,namePizza:s,image:l="",addedIngredients:c=[],separator:z="_"}){e[a+z+t+z+i]?(console.log("уже есть пицца-карточка"),e[a+z+t+z+i].pizzaQuantity+=n,e[a+z+t+z+i].totalPrice=e[a+z+t+z+i].pizzaQuantity*r):(console.log("новая пицца карточка"),e[a+z+t+z+i]={namePizza:s,image:l,pizzaQuantity:n,sizePizza:t,totalPrice:n*r,addedIngredients:c})}initHeaderListUi(),initSwitchHero($menuPizza),initVideoPromo($videoMenu,$videoMenu),$tabsContainer.addEventListener("click",e=>{var a,e=e.target.closest("button");e&&(a=e.getAttribute("data-category"),$tabsButtons.forEach(e=>{e.classList.remove("btn--accent");e=e.closest("li");e&&e.classList.remove("menu__tab-btn--active")}),e.classList.add("btn--accent"),(e=e.closest("li"))&&e.classList.add("menu__tab-btn--active"),"all"===a?(utilsDOM.addClassToAll({className:"d-none",arrElements:[$topContainerCards,$bottomContainerCards]}),utilsDOM.removeClassFromAll({className:"d-none",arrElements:[$staticTopContainerCards,$staticBottomContainerCards]}),$allStaticCards.forEach(e=>{utilsPizza.resetPizzaCard({pizzaCardElem:e,sizeValue:22,pizzaQuantity:1,callbackFormat:utilsFormat.formatPrice}),utilsPizza.updateBtn({parentElement:e,pizzaQuantity:1})})):(utilsDOM.removeClassFromAll({className:"d-none",arrElements:[$topContainerCards,$bottomContainerCards]}),utilsDOM.addClassToAll({className:"d-none",arrElements:[$staticTopContainerCards,$staticBottomContainerCards]}),utilsDOM.clearContainer($topContainerCards),utilsDOM.clearContainer($bottomContainerCards),e=pizzaProducts[a].slice(0,4),a=pizzaProducts[a].slice(4),e.length&&(e=utilsRender.renderAllCards(e,utilsFormat.formatPrice),$topContainerCards.innerHTML=""+e.join("")),a.length&&(e=utilsRender.renderAllCards(a,utilsFormat.formatPrice),$bottomContainerCards.innerHTML=""+e.join(""))))}),$menuOverlay.addEventListener("click",e=>{if(e.target.closest(".menu__panel")){var t=popUpPizzaData.pizzaData.size,a=popUpPizzaData.pizzaData.customPizza.id;if(e.target.closest(".panel-pizza__btn-quantity"))e.target.classList.contains("increment-quantity")?++popUpPizzaData.pizzaData.customQuantity:--popUpPizzaData.pizzaData.customQuantity,(popUpPizzaData.pizzaData.customQuantity>=MAX_PIZZA-1||popUpPizzaData.pizzaData.customQuantity<=2)&&(utilsPizza.updateBtn({parentElement:popUpPizzaData.cardElement,pizzaQuantity:popUpPizzaData.pizzaData.customQuantity}),utilsPizza.updateBtn({parentElement:$pizzaInfoPanel,pizzaQuantity:popUpPizzaData.pizzaData.customQuantity})),utilsPizza.setPizzaQuantity({parentElement:$pizzaInfoPanel,quantity:popUpPizzaData.pizzaData.customQuantity,selector:".quantity"}),utilsPizza.setPizzaQuantity({parentElement:popUpPizzaData.cardElement,quantity:popUpPizzaData.pizzaData.customQuantity,selector:".quantity"}),i=popUpPizzaData.pizzaData.customPizza.price[popUpPizzaData.pizzaData.size],i=utilsFormat.formatPrice(popUpPizzaData.pizzaData.customQuantity*i),utilsPizza.setPricePizza({parentElement:$pizzaInfoPanel,price:i,selector:".total-price"}),utilsPizza.setPricePizza({parentElement:popUpPizzaData.cardElement,price:i,selector:".total-price"});else{var i=e.target.closest(".panel-ingredients__value");if(i){var n=document.getElementById("custom-ingredients");let a=+i.getAttribute("data-id");var r=flatIngredients.find(e=>e.id===a),s=r.name,r=r.price*INGR_PRICE_COEFF[t],i=(i.classList.toggle("panel-ingredients__value--add"),i.classList.contains("panel-ingredients__value--add")),s=(i?(popUpPizzaData.pizzaData.customPizza.price[t]=popUpPizzaData.pizzaData.customPizza.price[t]+r,popUpPizzaData.pizzaData.customPizza.ingredients=[...popUpPizzaData.pizzaData.customPizza.ingredients,s],addedIngredients.push(flatIngredients.find(e=>e.id===a))):(popUpPizzaData.pizzaData.customPizza.price[t]=popUpPizzaData.pizzaData.customPizza.price[t]-r,-1!==(i=addedIngredients.findIndex(e=>e.id===a))&&addedIngredients.splice(i,1)),n.innerHTML=utilsRender.renderTextIngredients(addedIngredients.map(e=>e.name),"-"),utilsFormat.formatPrice(popUpPizzaData.pizzaData.customPizza.price[popUpPizzaData.pizzaData.size])),r=utilsFormat.formatPrice(popUpPizzaData.pizzaData.customQuantity*s);utilsPizza.setPricePizza({parentElement:$pizzaInfoPanel,price:r,selector:".total-price"}),utilsPizza.setPricePizza({parentElement:$pizzaInfoPanel,price:s,selector:".custom-price-one"}),void utilsPizza.setPricePizza({parentElement:popUpPizzaData.cardElement,price:r,selector:".total-price"})}else e.target.closest(".menu__panel-btn")&&(i=addedIngredients.map(e=>e.id).sort((e,a)=>e-a).join("-")||KEY.NO_INGREDIENTS,addToCart({cart:cart,idPizza:a,sizePizza:t,keyIngredients:i,pizzaQuantity:popUpPizzaData.pizzaData.customQuantity,pricePerPizza:popUpPizzaData.pizzaData.customPizza.price[t],namePizza:popUpPizzaData.pizzaData.customPizza.namePizza,image:popUpPizzaData.pizzaData.customPizza.image,separator:KEY.SEPARATOR,addedIngredients:addedIngredients}),console.log(cart),alert("PIZZA ADD TO THE CART"),handleClosePopUpPizza({pizzaCardElem:popUpPizzaData.cardElement,sizeValue:22,pizzaQuantity:1,callbackFormat:utilsFormat.formatPrice}))}}else handleClosePopUpPizza({pizzaCardElem:popUpPizzaData.cardElement,sizeValue:popUpPizzaData.pizzaData.size,pizzaQuantity:popUpPizzaData.pizzaData.defaultQuantity,callbackFormat:utilsFormat.formatPrice}),popUpPizzaData={}}),$menuPizza.addEventListener("click",e=>{if(e.target.closest(".pizza-card__customize-btn")){var e=e.target.closest(".pizza-card"),t=e.querySelector(".pizza-card__form");if(e&&t){let a=utilsPizza.getPizzaId(e);var t=utilsPizza.getPizzaSize(t),i=utilsPizza.getPizzaQuantity(e),n=flatPizzaProducts.find(e=>e.id===a),r=utilsData.deepClone(n),r=(popUpPizzaData={pizzaData:{defaultPizza:n,customPizza:r,size:t,customQuantity:i,defaultQuantity:i},cardElement:e},{});r.meats=utilsRender.renderCardsIngredients(ingredients.meats,INGR_PRICE_COEFF[t]),r.cheeses=utilsRender.renderCardsIngredients(ingredients.cheeses,INGR_PRICE_COEFF[t]),r.seafood=utilsRender.renderCardsIngredients(ingredients.seafood,INGR_PRICE_COEFF[t]),utilsRender.renderPanelAddIngredients(r,$ingredientsPanel),utilsRender.renderPanelInfoPizza({pizzaData:n,sizePizza:t,pizzaQuantity:i,container:$pizzaInfoPanel,callbackFormat:utilsFormat.formatPrice}),utilsPizza.updateBtn({parentElement:$pizzaInfoPanel,pizzaQuantity:popUpPizzaData.pizzaData.customQuantity}),$menuOverlay.classList.add("menu__overlay--active"),utilsDOM.lockScroll()}}}),$menuPizza.addEventListener("click",e=>{if(e.target.closest(".pizza-card__order")){var e=e.target.closest(".pizza-card"),t=e.querySelector(".pizza-card__form");if(e&&t){let a=utilsPizza.getPizzaId(e);var i=flatPizzaProducts.find(e=>a===e.id),n=i.namePizza,r=utilsPizza.getPizzaQuantity(e),t=utilsPizza.getPizzaSize(t),s=i.price[t];addToCart({cart:cart,idPizza:a,sizePizza:t,keyIngredients:KEY.NO_INGREDIENTS,pizzaQuantity:r,pricePerPizza:s,namePizza:n,image:i.image,separator:KEY.SEPARATOR}),console.log(cart,"CART"),utilsPizza.resetPizzaCard({pizzaCardElem:e,sizeValue:22,pizzaQuantity:1,callbackFormat:utilsFormat.formatPrice}),alert("PIZZA ADD TO THE CART")}}}),$menuPizza.addEventListener("click",a=>{if(a.target.closest(".pizza-card__quantity-btn")){var t=a.target.closest(".pizza-card"),i=t.querySelector(".pizza-card__form");if(t&&i){let e=utilsPizza.getPizzaQuantity(t);i=utilsPizza.getPricePerPizza(i),a=(a.target.closest(".increment-quantity")?++e:a.target.closest(".decrement-quantity")&&--e,(e>=MAX_PIZZA-1||e<=2)&&utilsPizza.updateBtn({parentElement:t,pizzaQuantity:e}),utilsFormat.formatPrice(e*i));utilsPizza.setPricePizza({parentElement:t,price:a,selector:".total-price"}),utilsPizza.setPizzaQuantity({parentElement:t,quantity:e,selector:".quantity"})}}}),$menuPizza.addEventListener("change",e=>{var a,t;e.target.closest(".pizza-card__size-radio")&&(a=(e=e.target.closest(".pizza-card")).querySelector(".pizza-card__form"),e)&&a&&(t=utilsPizza.getPizzaQuantity(e),a=utilsPizza.getPricePerPizza(a),t=utilsFormat.formatPrice(t*a),utilsPizza.setPricePizza({parentElement:e,price:t,selector:".total-price"}))});let $eventText=document.querySelectorAll(".event__text"),$eventTitle=document.querySelectorAll(".event__title"),$linkMeat=(utilsDOM.hiddenText($eventTitle[5],25),document.getElementById("link-meat")),$btnTabMeat=document.getElementById("meat"),$header=($linkMeat.addEventListener("click",e=>{$btnTabMeat.click()}),document.querySelector(".header"));window.addEventListener("scroll",e=>{60<window.scrollY?$header.classList.add("header--active"):$header.classList.remove("header--active")},{passive:!0});