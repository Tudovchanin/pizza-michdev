function getPizzaData(){return{meat:[{id:1,name:"Meat",description:"Assortment of beef, ham, pepperoni and bacon",price:{22:12,28:16,33:20},image:"meat-pizza",ingredients:["beef","ham","pepperoni","bacon","mozzarella","tomato sauce"]},{id:2,name:"Argentina",description:"Juicy Argentinian beef with herbs",price:{22:13,28:17,33:21},image:"argentina-pizza",ingredients:["beef","herbs","onions","bell peppers","mozzarella","tomato sauce"]},{id:3,name:"Venecia",description:"Venetian style with Italian sausages",price:{22:12,28:16,33:20},image:"venecia-pizza",ingredients:["Italian sausages","olives","onions","bell peppers","mozzarella"]},{id:4,name:"Pepperoni Classic",description:"Double pepperoni with extra cheese",price:{22:11,28:15,33:19},image:"pepperoni-pizza",ingredients:["pepperoni","mozzarella","tomato sauce","oregano"]},{id:5,name:"BBQ Chicken",description:"Grilled chicken with BBQ sauce",price:{22:12,28:16,33:20},image:"bbq-chicken-pizza",ingredients:["chicken","BBQ sauce","red onions","mozzarella","corn"]}],vegetarian:[{id:6,name:"Cheese",description:"Mozzarella, gorgonzola, parmesan and ricotta",price:{22:10,28:14,33:18},image:"cheese-pizza",ingredients:["mozzarella","gorgonzola","parmesan","ricotta","tomato sauce"]},{id:7,name:"Tomato",description:"Classic with fresh tomatoes and basil",price:{22:9,28:13,33:17},image:"tomato-pizza",ingredients:["fresh tomatoes","basil","mozzarella","tomato sauce"]},{id:8,name:"Italian",description:"Traditional Italian recipe",price:{22:8.35,28:15.33,33:19.6},image:"italian-pizza",ingredients:["prosciutto","arugula","parmesan","mozzarella","tomato sauce"]},{id:9,name:"Italian x2",description:"Double portion of Italian ingredients",price:{22:13,28:17,33:21},image:"italian-x2-pizza",ingredients:["prosciutto","salami","olives","mozzarella","tomato sauce"]},{id:10,name:"Vegetarian",description:"Fresh vegetables and herbs",price:{22:11,28:15,33:19},image:"vegetarian-pizza",ingredients:["bell peppers","tomatoes","onions","olives","mushrooms","mozzarella"]},{id:11,name:"Mediterranean",description:"Sun-dried tomatoes, olives and feta cheese",price:{22:12,28:16,33:20},image:"mediterranean-pizza",ingredients:["sun-dried tomatoes","olives","feta cheese","spinach","mozzarella"]}],mushroom:[{id:12,name:"Gribnaya",description:"Assorted mushrooms with creamy sauce",price:{22:10,28:14,33:18},image:"mushroom-pizza",ingredients:["champignons","porcini mushrooms","creamy sauce","mozzarella","thyme"]},{id:13,name:"Forest Mushroom",description:"Wild forest mushrooms with herbs",price:{22:11,28:15,33:19},image:"forest-mushroom-pizza",ingredients:["wild mushrooms","herbs","garlic","mozzarella","cream sauce"]},{id:14,name:"Truffle Mushroom",description:"Mushrooms with truffle oil",price:{22:13,28:17,33:21},image:"truffle-pizza",ingredients:["mushrooms","truffle oil","parmesan","mozzarella","cream sauce"]}],sea_products:[{id:15,name:"Seafood Mix",description:"Shrimps, squid and mussels",price:{22:14,28:18,33:22},image:"seafood-pizza",ingredients:["shrimps","squid","mussels","garlic","mozzarella","white sauce"]},{id:16,name:"Tuna & Corn",description:"Tuna with sweet corn and onions",price:{22:12,28:16,33:20},image:"tuna-pizza",ingredients:["tuna","sweet corn","red onions","mozzarella","tomato sauce"]},{id:17,name:"Salmon Supreme",description:"Smoked salmon with cream cheese",price:{22:15,28:19,33:23},image:"salmon-pizza",ingredients:["smoked salmon","cream cheese","capers","red onions","dill"]}]}}function getUtils(){return{formatPrice(e,a="en-US"){return new Intl.NumberFormat(a,{minimumFractionDigits:0,maximumFractionDigits:2}).format(e)},saveCart(e){localStorage.setItem("cart",JSON.stringify(e))}}}let pizzaProducts=getPizzaData(),utils=getUtils(),$menuPizza=document.getElementById("menuPizza"),$cartBtn=document.getElementById("cartBtn");function initHeaderListUi(){let a=document.querySelectorAll(".header .link-nav");a.forEach(e=>{e.addEventListener("click",e=>{a.forEach(e=>e.classList.remove("link-nav--active")),e.target.classList.add("link-nav--active")})})}initHeaderListUi();let $tabs=document.getElementById("tabs"),$allTab=document.querySelectorAll(".menu__tab-btn button"),savedCart=($tabs.addEventListener("click",e=>{var a,e=e.target.closest("button");e&&(a=e.getAttribute("data-category"),console.log(a),console.log($allTab),$allTab.forEach(e=>e.classList.remove("btn--accent")),e.classList.add("btn--accent"),console.log(e))}),console.log($tabs),localStorage.getItem("cart")),cart=savedCart?JSON.parse(savedCart):{};$menuPizza.addEventListener("click",e=>{var a,t;e.target.closest(".pizza-card__order")&&(e=e.target.closest(".pizza-card"))&&(a=+e.getAttribute("data-id"),t=e.querySelector(".pizza-card__quantity"),e=e.querySelector('input[name="size"]:checked'),t=+t.textContent,e=e.value,cart[a]?cart[a][e]=(cart[a][e]||0)+t:(console.log("записываем"),cart[a]={[e]:t}),console.log(cart),utils.saveCart(cart))}),$menuPizza.addEventListener("click",a=>{if(a.target.closest(".pizza-card__quantity-btn")){var t=a.target.closest(".pizza-card"),i=t.querySelector(".pizza-card__form").querySelector('input[name="size"]:checked');if(t){t.getAttribute("data-id");var r=t.querySelector(".pizza-card__quantity"),n=t.querySelector(".total-price");if(r){let e=+r.textContent;i=+i.getAttribute("data-price"),a=a.target.closest(".pizza-card__quantity-btn");a.classList.contains("increment-pizza")?(1<++e&&e<3&&(t.querySelector(".decrement-pizza").disabled=!1),9<e&&(a.disabled=!0)):8<--e&&e<10&&(t.querySelector(".increment-pizza").disabled=!1),n.textContent=utils.formatPrice(e*i),(r.textContent=e)<2&&(a.disabled=!0)}}}}),$menuPizza.addEventListener("change",e=>{var a,t;e.target.closest(".pizza-card__size-radio")&&(t=(a=e.target.closest(".pizza-card")).querySelector(".pizza-card__quantity"),a=a.querySelector(".total-price"),t=+t.textContent,e=+e.target.getAttribute("data-price"),a.textContent=utils.formatPrice(t*e))});